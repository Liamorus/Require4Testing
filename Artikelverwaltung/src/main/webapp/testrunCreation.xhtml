<?xml version='1.0' encoding='UTF-8' ?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
  <link rel="stylesheet" type="text/css" media="screen" href="style.css"/>
  <title>Testlauferstellung</title>
</h:head>
<h:body>
  <h1>Testlauf erstellen</h1>
  <h:form>
    <h:panelGrid columns="2">
      <h:outputLabel value="Anforderung" for="requirementid"/>
      <h:selectOneMenu id="requirementid" value="#{testrunController.requirement_Id}">
	    	<f:selectItem itemLabel="Select Requirement" itemValue="" noSelectionOption="false" />
	    	<f:selectItems value="#{requirementController.requirements}" var="requirement" itemLabel="#{requirement.title}" itemValue="#{requirement.requirementId}" />
	    	<f:ajax event="valueChange" listener="#{testrunController.checkCreateCondition()}" render="createButton" />
		</h:selectOneMenu>
		<h:outputText value="Testuser zuweisen"/>
   		<h:selectOneMenu id="testuserid" value="#{testrunController.user_Id}">
	    	<f:selectItem itemLabel="Select Testuser" itemValue="" noSelectionOption="false" />
	    	<f:selectItems value="#{userController.tester}" var="tester" itemLabel="#{tester.username}" itemValue="#{tester.userId}" />
    		<f:ajax event="valueChange" listener="#{testrunController.checkCreateCondition()}" render="createButton" />	
	    	<div/>
	    	
		</h:selectOneMenu>	
		
      <p:commandButton id="createButton" value="Erstellen" action="#{testrunController.create()}" ajax="false" disabled="#{testrunController.checkCreateCondition()}"/>
      <p:commandButton value="Abbrechen" action="dashboard_TestManager?faces-redirect=true" ajax="false" />
      
    </h:panelGrid>
  </h:form>


</h:body>
</html>
